
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Personal notes and blog">
      
      
      
        <link rel="canonical" href="https://lmjw.github.io/blog/2017-12-06-Kubernetes/">
      
      
        <link rel="prev" href="../2017-11-30-Install-GMP-on-windows10-machine/">
      
      
        <link rel="next" href="../2017-12-26-docker-grpc-network/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Kubernete's tutorial notes - lmjw</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#some-concepts-of-kubernetes-clusters" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="lmjw" class="md-header__button md-logo" aria-label="lmjw" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            lmjw
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Kubernete's tutorial notes
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/lmjw/lmjw.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../tags/" class="md-tabs__link">
        
  
  
    
  
  Tags

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="lmjw" class="md-nav__button md-logo" aria-label="lmjw" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    lmjw
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lmjw/lmjw.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Blog
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Blog
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2014-3-3-Markdown-style-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2014-3-3 Markdown Style Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2016-03-05-my-favourit-softwares/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2016-03-05 My favourit softwares
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2017-11-26-blog-docker-python-golang/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2017-11-26 Docker, Python, Golang
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2017-11-28-python-subprocess/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2017-11-28 Python subprocess
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2017-11-30-Install-GMP-on-windows10-machine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2017-11-30 Install GMP on Windows 10
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    2017-12-06 Kubernetes
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    2017-12-06 Kubernetes
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kubernetes-cluster-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Kubernetes cluster structure
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kubernetes cluster structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#master-responsibilities-coordinate-activities-in-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        Master responsibilities : coordinate activities in cluster
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeworker" class="md-nav__link">
    <span class="md-ellipsis">
      
        Node(worker)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubernetes-application-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Kubernetes application deployment
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubernetes-interactive-tutorial" class="md-nav__link">
    <span class="md-ellipsis">
      
        Kubernetes interactive tutorial
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kubernetes interactive tutorial">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#module-1-creating-a-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        Module 1: Creating a cluster
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#module-2-deploy-an-application-using-kubectl" class="md-nav__link">
    <span class="md-ellipsis">
      
        Module 2. Deploy an Application using Kubectl
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Module 2. Deploy an Application using Kubectl">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kubernetes-application-deployments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Kubernetes application deployments
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#after-kubernetes-applications-are-deployed" class="md-nav__link">
    <span class="md-ellipsis">
      
        After Kubernetes applications are deployed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#now-lets-try-to-deploy-your-first-app-on-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Now, let's try to deploy your first app on Kubernetes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#first-deployment-example-module-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        First deployment example, Module 2
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary-of-this-section" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary of this section
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Summary of this section">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#terms-and-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        terms and concepts
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2017-12-26-docker-grpc-network/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2017-12-26 Docker gRPC network
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2018-01-05-OpenSSL-basic-concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2018-01-05 OpenSSL basic concepts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2018-01-05-python-ssl-grpc-implementation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2018-01-05 Python SSL gRPC implementation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2019-06-12-Intro-to-deep-learning-notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2019-06-12 Intro to deep learning notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2019-11-24-Data-Oriented-Design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2019-11-24 Data-Oriented Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2021-05-17-Notes-about-learning-OS-dev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2021-05-17 Notes about learning OS dev
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../OOPDesignNotes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OOP Design Notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SmallLearning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Small Learning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../WindowKeyMapping/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Window Key Mapping
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../simple-rust-protobuf-grpc-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Simple Rust protobuf gRPC guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tags
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kubernetes-cluster-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Kubernetes cluster structure
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kubernetes cluster structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#master-responsibilities-coordinate-activities-in-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        Master responsibilities : coordinate activities in cluster
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeworker" class="md-nav__link">
    <span class="md-ellipsis">
      
        Node(worker)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubernetes-application-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Kubernetes application deployment
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubernetes-interactive-tutorial" class="md-nav__link">
    <span class="md-ellipsis">
      
        Kubernetes interactive tutorial
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kubernetes interactive tutorial">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#module-1-creating-a-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        Module 1: Creating a cluster
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#module-2-deploy-an-application-using-kubectl" class="md-nav__link">
    <span class="md-ellipsis">
      
        Module 2. Deploy an Application using Kubectl
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Module 2. Deploy an Application using Kubectl">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kubernetes-application-deployments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Kubernetes application deployments
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#after-kubernetes-applications-are-deployed" class="md-nav__link">
    <span class="md-ellipsis">
      
        After Kubernetes applications are deployed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#now-lets-try-to-deploy-your-first-app-on-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Now, let's try to deploy your first app on Kubernetes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#first-deployment-example-module-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        First deployment example, Module 2
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary-of-this-section" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary of this section
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Summary of this section">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#terms-and-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        terms and concepts
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  

  <nav class="md-tags" >
    
      
      
      
      
        <span class="md-tag">Kubernetes</span>
      
    
      
      
      
      
        <span class="md-tag">docker</span>
      
    
  </nav>


  
  


<h1 id="some-concepts-of-kubernetes-clusters">Some concepts of Kubernetes Clusters<a class="headerlink" href="#some-concepts-of-kubernetes-clusters" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p><strong>Kubernetes cluster</strong>(KC) can be analogy to the conventional computational cluster, which includes many computers and to work as a single unit. </p>
</li>
<li>
<p>application runs on the KC needs to be <strong>containerized</strong>.</p>
</li>
<li>
<p>the <strong>program</strong> organizing  the KC, namely <strong>Kubernete</strong>, manage the deployment and make containerized application run in KC in a more efficient way.</p>
</li>
</ul>
<h2 id="kubernetes-cluster-structure">Kubernetes cluster structure<a class="headerlink" href="#kubernetes-cluster-structure" title="Permanent link">&para;</a></h2>
<ul>
<li>Master ( act as a manager): coordinate the cluster</li>
<li>Nodes (act as worker, the job of work is to run the containerize application)</li>
</ul>
<p><img alt="KC diagram" src="https://d33wubrfki0l68.cloudfront.net/99d9808dcbf2880a996ed50d308a186b5900cec9/40b94/docs/tutorials/kubernetes-basics/public/images/module_01_cluster.svg" /></p>
<h3 id="master-responsibilities-coordinate-activities-in-cluster">Master responsibilities : coordinate activities in cluster<a class="headerlink" href="#master-responsibilities-coordinate-activities-in-cluster" title="Permanent link">&para;</a></h3>
<ul>
<li>scheduling application</li>
<li>maintaining application states</li>
<li>scaling application</li>
<li>rolling new updates</li>
</ul>
<h3 id="nodeworker">Node(worker)<a class="headerlink" href="#nodeworker" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>definition of Node</strong>:
  A node can be a VM or a physical computer that serves as a worker machine in a KC. So, you can think node is just a physical laptop/desktop.</li>
<li>What node have?
| name       | description                              | Analogy |
| ---------- | ---------------------------------------- | ------- |
| Kubelet    | this guy does two thing: 1. managing the node; 2. communicate with master |         |
| Docker/rkt | tool to handle containerized application(containers) |         |</li>
</ul>
<h3 id="kubernetes-application-deployment">Kubernetes application deployment<a class="headerlink" href="#kubernetes-application-deployment" title="Permanent link">&para;</a></h3>
<ol>
<li>Kubernetes deployment process</li>
<li>tell the master to start application containers. </li>
<li>then master schedules the containers to run on the cluster's nodes.</li>
<li>master exposes the Kubernetes' API. The node also communicate with this API</li>
<li>end user can use Kubernete's API to interact with cluster</li>
<li>Kubernetes can be deployed on either physical or vertial machines</li>
<li>Kubernetes development,<strong>Minikube</strong></li>
<li>one simple Kubernetes implementation(simple cluster only contains one node) </li>
<li>Minikube CLI provide basic bootstrapping operations for cluster (start, stop, status and delete)</li>
</ol>
<h2 id="kubernetes-interactive-tutorial">Kubernetes interactive tutorial<a class="headerlink" href="#kubernetes-interactive-tutorial" title="Permanent link">&para;</a></h2>
<h3 id="module-1-creating-a-cluster">Module 1: Creating a cluster<a class="headerlink" href="#module-1-creating-a-cluster" title="Permanent link">&para;</a></h3>
<ol>
<li>check the minikube. Type the commands in terminal</li>
</ol>
<div class="codehilite"><pre><span></span><code>minikube<span class="w"> </span>version
</code></pre></div>

<ol>
<li>start a cluster</li>
</ol>
<div class="codehilite"><pre><span></span><code>minikube<span class="w"> </span>start
</code></pre></div>

<ol>
<li>to interact with Kubernetes, we will use the command line interface, <strong>kubectl</strong>. To check whether Kubectl is installed, you can run kubectl version check.</li>
</ol>
<div class="codehilite"><pre><span></span><code>kubectl<span class="w"> </span>version
</code></pre></div>

<ol>
<li>to see the cluster details, we can type the command</li>
</ol>
<div class="codehilite"><pre><span></span><code>kubectl<span class="w"> </span>cluster-info
</code></pre></div>

<ol>
<li>to view the cluster's nodes, we can type the command</li>
</ol>
<div class="codehilite"><pre><span></span><code>kubectl<span class="w"> </span>get<span class="w"> </span>nodes
</code></pre></div>

<h3 id="module-2-deploy-an-application-using-kubectl">Module 2. Deploy an Application using Kubectl<a class="headerlink" href="#module-2-deploy-an-application-using-kubectl" title="Permanent link">&para;</a></h3>
<h4 id="kubernetes-application-deployments">Kubernetes application deployments<a class="headerlink" href="#kubernetes-application-deployments" title="Permanent link">&para;</a></h4>
<ol>
<li>running your Kubernetes cluster</li>
<li>deploy containerized application on top of it. This requires you to create a  Kubernetes <em>Deployment</em> configuration.</li>
<li>Deployment configuration instruct Kubernetes how to create and update instances of your application.</li>
<li>Once the deployment is created by you. the Kubernetes master loads the mentioned application instances into individual nodes.</li>
</ol>
<h4 id="after-kubernetes-applications-are-deployed">After Kubernetes applications are deployed<a class="headerlink" href="#after-kubernetes-applications-are-deployed" title="Permanent link">&para;</a></h4>
<ol>
<li>once the application instances are created, a<strong> Kubernetes Deployment Controller</strong> continuously monitors those instances. </li>
<li>if a node goes down or get deleted, the <strong>Deployment Controller</strong> replaces it. <em>this provides a self-healing mechanism to address machine failure or maintainance.</em></li>
</ol>
<h4 id="now-lets-try-to-deploy-your-first-app-on-kubernetes">Now, let's try to deploy your first app on Kubernetes<a class="headerlink" href="#now-lets-try-to-deploy-your-first-app-on-kubernetes" title="Permanent link">&para;</a></h4>
<p>Never the less, here's a diagram of showing the relationships between different components of Kubernetes cluster.
<img alt="KC application deployment" src="https://d33wubrfki0l68.cloudfront.net/152c845f25df8e69dd24dd7b0836a289747e258a/4a1d2/docs/tutorials/kubernetes-basics/public/images/module_02_first_app.svg" />
1. you can create and manage a deployment by using kubernetes command line interface, <strong>kubectl</strong>. 
2. when you create a deployment, you need to specify the container image for your application and how many replicas that you want to run. </p>
<h4 id="first-deployment-example-module-2">First deployment example, Module 2<a class="headerlink" href="#first-deployment-example-module-2" title="Permanent link">&para;</a></h4>
<ul>
<li>** Node.js** application packaged in a Docker container. <a href="https://github.com/kubernetes/kubernetes-bootcamp">source code</a></li>
<li>goal: deploy your first app on Kubernetes using <strong>kubectl</strong>.</li>
<li>Kubectl basic commands</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: left;">command</th>
<th style="text-align: left;">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>kubectl version</code></td>
<td style="text-align: left;">get the version of kubectl</td>
</tr>
<tr>
<td style="text-align: left;"><code>kubectl get nodes</code></td>
<td style="text-align: left;">view the nodes in cluster</td>
</tr>
</tbody>
</table>
<ol>
<li>run an app using Kubectl</li>
</ol>
<div class="codehilite"><pre><span></span><code>kubectl<span class="w"> </span>run<span class="w"> </span>&lt;command&gt;
</code></pre></div>

<p>example:</p>
<div class="codehilite"><pre><span></span><code>kubectl<span class="w"> </span>run<span class="w"> </span>kubernetes-bootcamp<span class="w"> </span>--image<span class="o">=</span>docker.io/jocatalin/kubernetes-bootcamp:v1<span class="w"> </span>--port<span class="o">=</span><span class="m">8080</span>
</code></pre></div>

<p>What this previous command did?</p>
<ul>
<li><strong>find</strong> the available nodes that can be used to run the application</li>
<li><strong>schedule</strong> the application to run on that node</li>
<li>
<p><strong>configure</strong> the <strong>cluster</strong> to reschedule the instance on a new Node when needed</p>
</li>
<li>
<p>to list your deployments</p>
</li>
</ul>
<div class="codehilite"><pre><span></span><code>kubectl<span class="w"> </span>get<span class="w"> </span>deployments
</code></pre></div>

<ol>
<li>View our apps</li>
<li>
<p><strong>pods</strong>: running inside Kubernetes are running on a private, isolated network. (<strong>What the fuck is this pods?</strong>). By default, they are visible from other pods and services within the same kubernetes cluster, but not outside that network. </p>
</li>
<li>
<p><code>kubectl</code> can create a proxy that will forward communications into cluster-wide, private network. (<strong>But how? Show me the code</strong>). <code>kubectl</code> interacting through an API endpoint(<strong>Wtf?</strong>) to communicate with application.</p>
</li>
<li>
<p>This is how, we use a second terminal to open the proxy:</p>
</li>
</ol>
<div class="codehilite"><pre><span></span><code>kubectl<span class="w"> </span>proxy
</code></pre></div>

<p>So, this is the understanding, <code>kubectl</code> is a piece of program that is run in the bash terminal(host pc). 
After the proxy execution, we now have a connection between our host(terminal) and the <strong>Kubernetes cluster</strong>. The proxy enables direct access to the API through terminals.
- Once this proxy is set, it means we have set up the communications between host and Kubernetes cluster. But how do we actually interact with the pod?
- what it actually happens, is that the proxy will automatically set up proxy endpoints (similar like <code>http://proxy/endpoints</code>) for each pods and we can actually query the APIs for individual pods by using internet protocols with <code>curl</code> command, for example.
  - You can see all those APIs hosted through the proxy endpoint, now available at through http://localhost:8001. For example, we can query the version directly through the API using the curl command:
    <code>curl http://localhost:8001/version</code>
  - The API server will automatically create an endpoint for each pod, based on the pod name, that is also accessible through the proxy.
  - we can get all the pods name and store it in an environment variable POD_NAME (on the host)
    <code>export POD_NAME=$(kubectl get pods -o go-template --template '{{range .items}}{{.metadata.name}}{{"\n"}}{{end}}')</code></p>
<h3 id="summary-of-this-section">Summary of this section<a class="headerlink" href="#summary-of-this-section" title="Permanent link">&para;</a></h3>
<h4 id="terms-and-concepts">terms and concepts<a class="headerlink" href="#terms-and-concepts" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Terms</th>
<th>Concepts</th>
</tr>
</thead>
<tbody>
<tr>
<td>Kubernetes Cluster (KC)</td>
<td>The actual cluster that contains many nodes(VMs or physical PCs)</td>
</tr>
<tr>
<td>Kubernetes</td>
<td>Sometimes indicate the program that organize the KC, managing the application deployment and scheduling.</td>
</tr>
<tr>
<td>Containerize</td>
<td>Application is packed in a way that is independent from its environment</td>
</tr>
<tr>
<td>Master node</td>
<td>A special node in the KC. Its main tasks are scheduling and controlling the applications that are running in the normal KC nodes. So, in this sense, the master node controls the normal nodes. In analogy, this nodes is like a manager</td>
</tr>
<tr>
<td>Nodes</td>
<td>The actual PCs or VMs that are used for running the applications. In analogy, these nodes are like workers.</td>
</tr>
<tr>
<td>Kubelet</td>
<td>A piece of software (called "agent" in Kubernetes official document) that taking control of an actual node, and managing the communication with master. Every node has a Kubelet.</td>
</tr>
<tr>
<td>Docker/rkt</td>
<td>This is a tool to handle containerized applications. Since every node needs to run containerize application, node needs a tool that can be used to manage these applications.</td>
</tr>
<tr>
<td>minikube</td>
<td>A simple Kubernetes cluster implementation. It only contains 1 Node.</td>
</tr>
<tr>
<td>kubectl</td>
<td>The command line interface that is used to interact with the Kubernetes program. So this "<strong>kubectl</strong>" is actually independent of Kubernetes cluster and nodes.</td>
</tr>
<tr>
<td>Deployment configuration</td>
<td>A configuration file that tells the Kubernetes Cluster how to configure and deploy your applications. Then the master node will then load this file and deploy the applications to nodes. The deployment can also be done by using the "kubectl" command line interface.</td>
</tr>
<tr>
<td>Deployment controller</td>
<td>Once the application is deployed on nodes, a Deployment controller will take in charge to monitor all these applications. If nodes goes down or deleted, the deployment controller will replace it with new one.</td>
</tr>
<tr>
<td>pods(?)</td>
<td>The concept of this is not quite clear yet. To me, it is more like a running instance of an application. There may be more than one instance of applications. In analogy, the pods is like an instance of a class, there are maybe several instances of same class. (<code>dog = Animal(); cat = Animal()</code>, <code>dog</code> and <code>cat</code> are similar to pods)</td>
</tr>
<tr>
<td>Proxy(?)</td>
<td>The KC is more like a network, where as each pod is act like an user in the KC network. In the KC,  a proxy build up a communication channel that allows the pods to be able to communicate with each other.</td>
</tr>
<tr>
<td>endpoint(?)</td>
<td>Every pods can be linked to the proxy with an address. In my understanding, this address can be referred as endpoint.</td>
</tr>
</tbody>
</table>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.top", "search.highlight", "content.code.copy"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>